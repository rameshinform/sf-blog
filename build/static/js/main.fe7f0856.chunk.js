(this["webpackJsonpsf-blog"]=this["webpackJsonpsf-blog"]||[]).push([[0],{179:function(t,e,n){},180:function(t,e,n){},314:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(14),s=n.n(c),o=(n(179),n(180),n(29)),i=n(16),u=n(7),l=n.n(u),j=n(15),d=n(22),b=n(24),p=n(65),h=n.n(p),x="https://restedblog.herokuapp.com/rameshg/api",f={getAllPost:function(){var t=Object(j.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get(x).then((function(t){return console.log(t.data),t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getPostDetail:function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,h.a.get("".concat(x,"/").concat(e)).then((function(t){return console.log(t.data),t.data}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deletePost:function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.abrupt("return",h.a.delete("".concat(x,"/").concat(e)).then((function(t){if(200===t.status)return e})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),createPost:function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.a.post("".concat(x),{title:e.title,text:e.text}).then((function(t){if(201===t.status){var n=t.data.id;return Object(b.a)(Object(b.a)({},e),{},{id:n})}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),editPost:function(){var t=Object(j.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,console.log(e),t.abrupt("return",h.a.post("".concat(x,"/").concat(n),{title:e.title,text:e.text}).then((function(t){if(200===t.status)return Object(b.a)({},e)})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=n(365);n(366),new m.a;var O=n(87),v=n.n(O),g=n(88),w=n.n(g),y=n(352),N=n(354),k=n(53),P=n.n(k),C=n(51),T=n.n(C),I=n(350),D=Object(I.a)((function(t){return{button:{margin:t.spacing(1)},margin:{margin:t.spacing(1)},withoutLabel:{marginTop:t.spacing(3)}}})),B=n(3),F=function(t){var e=t.data,n=t.onDelete,r=e.id,a=e.title,c=e.text,s=e.timestamp,i=D();return Object(B.jsxs)("div",{children:[Object(B.jsxs)("p",{className:"post_title",cols:"10",children:[Object(B.jsx)("b",{children:Object(B.jsx)("span",{className:"post-preview",children:a.length>25?"".concat(a.substr(0,150),"..."):a})}),"\xa0\xa0\xa0",Object(B.jsx)("span",{className:"post_datestamp text-right",children:Object(B.jsxs)("b",{children:[" ",w()(s).format("MMM DD, YYYY")]})})]}),Object(B.jsx)(y.a,{light:!0}),Object(B.jsx)("p",{className:"post_body",children:Object(B.jsx)("span",{className:"post-preview",children:c.length>300?"".concat(c.substr(0,300),"..."):c})}),Object(B.jsx)(y.a,{light:!0}),Object(B.jsx)(N.a,{variant:"contained",color:"primary",className:i.button,startIcon:Object(B.jsx)(T.a,{}),component:o.b,to:"/posts/".concat(r),children:"Edit"}),Object(B.jsx)(N.a,{variant:"contained",color:"secondary",className:i.button,startIcon:Object(B.jsx)(P.a,{}),onClick:function(){n&&n(r)},children:"Delete"})]})},S=n(355),E=n(356),M=n(357),W=function(t){var e=t.data,n=(t.onCreate,e.id),r=e.title,c=e.timestamp,s=r.length>15?"".concat(r.substr(0,15),"..."):r,i=w()(c).fromNow();return Object(B.jsxs)(S.a,{children:[Object(B.jsx)(E.a,{alignItems:"flex-start",component:o.b,to:"/posts/".concat(n),children:Object(B.jsx)(M.a,{primary:s,secondary:Object(B.jsx)(a.a.Fragment,{children:i})})}),Object(B.jsx)(y.a,{})]})},Y=n(358),A=n(154),L=n.n(A),_=(n(44),n(363)),J=n(367),V=n(360),G=n(359),K=(n(149),n(148),n(364)),R=[{items:[{path:"/",name:"Posts",component:function(t){var e=D(),n=t.history,r=a.a.useState([]),c=Object(d.a)(r,2),s=c[0],o=c[1];a.a.useEffect((function(){i()}),[]);var i=function(){var t=Object(j.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getAllPost().catch((function(t){return console.log(t)}));case 2:(e=t.sent)&&o(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){n.push("/posts/0")},b=function(){var t=Object(j.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.a.fire({title:"Confirm Delete this blog entry?",text:"This action can not be canceled. Are you sure you would like to delete this entry?",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(){var t=Object(j.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.value){t.next=5;break}return t.next=3,f.deletePost(e);case 3:i(),v.a.fire("Press OK to back","The post has been deleted","success");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return s?Object(B.jsxs)(Y.a,{container:!0,spacing:5,children:[Object(B.jsxs)(Y.a,{item:!0,xs:3,children:[Object(B.jsx)(N.a,{variant:"contained",color:"primary",className:e.button,startIcon:Object(B.jsx)(L.a,{}),onClick:function(){return n.replace("/post")},children:" Create New Post "}),s.map((function(t,e){return Object(B.jsx)(W,{data:t,onCreate:u},e)}))]}),Object(B.jsx)(Y.a,{item:!0,xs:9,children:s.map((function(t,e){return Object(B.jsx)(F,{data:t,onDelete:b},e)}))})]}):Object(B.jsx)("div",{children:"No posts yet."})}},{path:"/posts/:postId",name:"Edit Post",component:function(t){var e=a.a.useState([]),n=Object(d.a)(e,2),r=n[0],c=n[1],s=t.history,o=D(),u=Object(i.f)().postId;a.a.useEffect((function(){b()}),[u]);var b=function(){var t=Object(j.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getPostDetail(u);case 2:e=t.sent,console.log(e),e&&c(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();r.id,r.title,r.text;return Object(B.jsxs)(G.a,{maxWidth:"sm",children:[Object(B.jsx)("h1",{children:"Edit Post"}),Object(B.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e={id:u,title:t.target.title.value,text:t.target.text.value};console.log(e.title),f.editPost(e).catch((function(t){return console.log(t)})).then(setTimeout((function(){return s.replace("/")}),700))},children:[Object(B.jsx)(J.a,{htmlFor:"title",children:"Title"}),Object(B.jsx)(V.a,{fullWidth:!0,className:o.margin,variant:"outlined",children:Object(B.jsx)(_.a,{id:"title",variant:"outlined",multiline:!0,rowsMax:"1",defaultValue:r.title})}),Object(B.jsx)("br",{}),Object(B.jsx)(J.a,{htmlFor:"text",children:"Text"}),Object(B.jsx)(V.a,{fullWidth:!0,className:o.margin,variant:"outlined",children:Object(B.jsx)(_.a,{id:"text",multiline:!0,rowsMax:"14",rows:4,variant:"outlined",defaultValue:r.text})}),Object(B.jsx)("br",{}),Object(B.jsx)(y.a,{light:!0}),Object(B.jsx)(N.a,{variant:"contained",color:"primary",className:o.button,startIcon:Object(B.jsx)(T.a,{}),type:"submit",children:" Save "}),Object(B.jsx)(N.a,{variant:"contained",color:"secondary",className:o.button,startIcon:Object(B.jsx)(P.a,{}),onClick:function(){return s.replace("/")},children:" Cancel "})]})]})}},{path:"/post",name:"Create Post",component:function(t){var e=t.history,n=D();return Object(B.jsxs)(G.a,{maxWidth:"sm",children:[Object(B.jsx)("h1",{children:"Create New Post"}),Object(B.jsx)("div",{children:Object(B.jsx)(K.a,{component:"div",children:Object(B.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={title:t.target.title.value,text:t.target.text.value};f.createPost(n).catch((function(t){return console.log(t)})).then(setTimeout((function(){return e.replace("/")}),700))},children:[Object(B.jsx)(J.a,{htmlFor:"title",children:"Title"}),Object(B.jsxs)(V.a,{fullWidth:!0,className:n.margin,variant:"outlined",children:[Object(B.jsx)(_.a,{id:"title",variant:"outlined"}),"  "]}),Object(B.jsx)("br",{}),Object(B.jsx)(J.a,{htmlFor:"text",children:"Text"}),Object(B.jsxs)(V.a,{fullWidth:!0,className:n.margin,variant:"outlined",children:[Object(B.jsx)(_.a,{id:"text",variant:"outlined",multiline:!0,rows:4}),"  "]}),Object(B.jsx)("br",{}),Object(B.jsx)(N.a,{variant:"contained",color:"primary",className:n.button,startIcon:Object(B.jsx)(T.a,{}),type:"submit",children:" Save "}),Object(B.jsx)(N.a,{variant:"contained",color:"secondary",className:n.button,startIcon:Object(B.jsx)(P.a,{}),onClick:function(){return e.replace("/")},children:" Cancel "})]})})})]})}}]}],q=n(361),z=n(362),H=n(93),Q=Object(I.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)}}})),U=function(){var t=Q();return Object(B.jsx)("div",{className:t.root,children:Object(B.jsx)(q.a,{position:"static",children:Object(B.jsx)(z.a,{variant:"dense",children:Object(B.jsx)(H.a,{variant:"h6",color:"inherit",children:"Blog"})})})})},X=function(t){var e=t.children;return Object(B.jsxs)("div",{children:[Object(B.jsx)(U,{}),Object(B.jsx)(K.a,{component:"div",children:e})]})},Z=function(t,e,n,r){return Object(B.jsx)(i.a,{path:n,exact:!0,render:function(n){return Object(B.jsx)(t,{children:Object(B.jsx)(e,Object(b.a)({},n))})}},r)},$=function(t,e){return function(t,e){return e&&0!=e.length?e.map((function(e,n){var r=e.items,a=e.path,c=e.component;return r?r.map((function(e,n){var r=e.path,a=e.component;return Z(t,a,r,n)})):Z(t,c,a,n)})):null}(t,e)},tt=function(t){return Object(B.jsx)(o.a,{children:Object(B.jsx)(i.c,{children:$(X,R)})})};var et=function(){return Object(B.jsx)(tt,{})},nt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,370)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))};s.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)(et,{})}),document.getElementById("root")),nt()}},[[314,1,2]]]);
//# sourceMappingURL=main.fe7f0856.chunk.js.map